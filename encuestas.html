<!DOCTYPE html>
<html lang="en">

<head>
        <link rel="icon" href="https://i.ibb.co/Zg4vMt6/logoidr1.png" type="image/x-icon">
<link rel="shortcut icon" href="https://i.ibb.co/Zg4vMt6/logoidr1.png" type="image/x-icon">
        
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="IDR Consultores" />
  <meta name="description" content="" />
  <meta name="author" content="" />
<meta property="og:image" content="https://i.ibb.co/Zg4vMt6/logoidr1.png" />

  <title>IDR Consultores</title>


  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

  <!-- font awesome style -->
  <link href="css/font-awesome.min.css" rel="stylesheet" />

  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="css/responsive.css" rel="stylesheet" />

</head>

<body class="sub_page">
        
        

  <div class="hero_area">
    <!-- header section strats -->
    <header class="header_section">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html">
            <span>
              IDR Consultores
            </span>
          </a>

          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class=""> </span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav  ">
              <li class="nav-item ">
                <a class="nav-link" href="index.html">Inicio <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item active">
                <a class="nav-link" href="encuestas.html"> Encuestas</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="noticias.html">Noticias</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="contacto.html">Contáctanos</a>
              </li>
            </ul>
           
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->
  </div>

  <!-- about section -->
        
        	
        <br>
        <br>
        
        
         <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <h1 style="text-align: center;">REGISTRO DE EVALUACIÓN DE GESTIÓN</h1>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
        }

        .polls-container {
            margin-bottom: 40px;
        }

        .candidate-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            gap: 10px;
        }

        .candidate-info {
            display: flex;
            flex-direction: column;
            width: 150px;
        }

        .candidate-img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #ddd;
        }

        .bars-container {
            flex-grow: 1;
            height: 30px;
            display: flex;
            background: #f0f0f0;
        }

        .bar {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }

        .bar-aprobado { background-color: #2196F3; } /* Azul */
        .bar-desaprobado { background-color: #f44336; } /* Rojo */
        .bar-no-sabe { background-color: #FF9800; } /* Amarillo/Naranja */

        .dates-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .dates-table th {
            background-color: #f5f5f5;
            padding: 10px;
            text-align: left;
        }

        .dates-table td {
            padding: 10px;
            border: 1px solid #ddd;
            cursor: pointer;
        }

        .dates-table tr:hover {
            background-color: #f0f0f0;
        }

    </style>
</head>
<body>
    <div class="legend">
        <div class="legend-item">
            <div class="legend-color" style="background-color: #2196F3;"></div>
            <span>Aprobado</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: #f44336;"></div>
            <span>Desaprobado</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: #FF9800;"></div>
            <span>No sabe/no opina</span>
        </div>
    </div>

    <div id="pollsContainer" class="polls-container">
        <!-- Las barras se generarán dinámicamente -->
    </div>

    <table class="dates-table">
        <thead>
            <tr>
                <th>FECHA</th>
               
            </tr>
        </thead>
        <tbody id="datesTableBody">
            <!-- Las fechas se generarán dinámicamente -->
        </tbody>
    </table>

    <script>
        // Obtener encuestas desde localStorage
        function getSurveysFromStorage() {
            return JSON.parse(localStorage.getItem('surveys')) || {};
        }

        // Actualizar la vista con los datos de la encuesta seleccionada
        function updatePollsDisplay(date) {
            const surveys = getSurveysFromStorage();
            const container = document.getElementById('pollsContainer');
            container.innerHTML = '';

            if (!surveys[date]) return;

            const survey = surveys[date];
            for (const candidate of survey.candidates) {
                const row = document.createElement('div');
                row.className = 'candidate-row';

                const candidateInfo = document.createElement('div');
                candidateInfo.className = 'candidate-info';

                const img = document.createElement('img');
                img.className = 'candidate-img';
                img.src = candidate.img || ''; // Asignar la imagen si existe
                
                const name = document.createElement('span');
                name.textContent = candidate.name;

                const region = document.createElement('span');
                region.textContent = candidate.region; // Solo imprimir el nombre de la región sin "Región:"

                candidateInfo.appendChild(img);
                candidateInfo.appendChild(name);
                candidateInfo.appendChild(region);  // Solo la región, sin la palabra "Región"
                row.appendChild(candidateInfo);

                const barsContainer = document.createElement('div');
                barsContainer.className = 'bars-container';

                const categories = ['aprobado', 'desaprobado', 'noSabe'];
                const colors = ['aprobado', 'desaprobado', 'no-sabe'];
                categories.forEach((category, index) => {
                    const value = candidate.percentages[category];
                    if (value > 0) {
                        const bar = document.createElement('div');
                        bar.className = `bar bar-${colors[index]}`;
                        bar.style.width = `${value}%`;
                        bar.textContent = `${value}%`;
                        barsContainer.appendChild(bar);
                    }
                });

                row.appendChild(barsContainer);
                container.appendChild(row);
            }
        }

        // Cargar la tabla de fechas
        function loadDatesTable() {
            const datesTableBody = document.getElementById('datesTableBody');
            const surveys = getSurveysFromStorage();

            Object.keys(surveys).forEach(date => {
                const row = document.createElement('tr');
                row.innerHTML = `<td>${date}</td><td></td>`;
                row.addEventListener('click', () => updatePollsDisplay(date));
                datesTableBody.appendChild(row);
            });
        }

        // Inicializar
        window.onload = () => {
            loadDatesTable();
            const surveys = getSurveysFromStorage();
            const firstDate = Object.keys(surveys)[0];
            if (firstDate) {
                updatePollsDisplay(firstDate);
            }
        };
    </script>

  <section class="about_section layout_padding layout_margin">
    <div class="container  ">
      <div class="row">
        <div class="col-md-6">
          <div class="detail-box">
            <div class="heading_container">
              <h2>
                About Us
              </h2>
            </div>
            <p>
              There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration
              in some form, by injected humour, or randomised words which don't look even slightly believable. If you
              are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in
              the middle of text. All
            </p>
            <a href="">
              Read More
            </a>
          </div>
        </div>
        <div class="col-md-6 ">
          <div class="img-box">
            <img src="images/about-img.png" alt="">
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- end about section -->

  
</body>

</html>